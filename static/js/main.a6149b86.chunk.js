(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{115:function(e,t,a){"use strict";(function(e){var n=a(9),r=a(12),o=a(14),i=a(13),c=a(0),l=a.n(c),s=a(47),u=a(70),d=a.n(u),p=a(27),m=a(88),h=a(96),f=a(62),g=a(133),v=a(130),b=function(e){var t=Object(p.useTranslate)("App")("Covid Data Refactored");return l.a.createElement(m.a,{titleTemplate:"%s | ".concat(t),defaultTitle:t},l.a.createElement("html",{lang:e.language}))},E=function(e){return l.a.createElement(p.TranslatorProvider,{translations:e.translations},l.a.createElement(m.b,null,l.a.createElement(b,{language:e.language}),l.a.createElement(s.a,null,l.a.createElement("div",{className:"App",id:"router-container"},e.children))))},y=function(t){Object(i.a)(c,t);var a=Object(o.a)(c);function c(){var t;Object(n.a)(this,c),(t=a.call(this)).handleNewServiceWorker=function(e){t.registration=e.detail.registration,t.setState({newServiceWorkerDetected:!0})},t.handleLoadNewServiceWorkerAccept=function(){return t.props.onLoadNewServiceWorkerAccept(t.registration)},t.handleLanguageChange=function(e){return t.setState({language:e})};var r=decodeURIComponent(e.location.hash);if(""!==r&&r!==e.location.hash){var o=r.replace(/[^#]*(#.*)$/,"$1");e.location.replace(o)}return t.registration=!1,t.state={initializing:!0,newServiceWorkerDetected:!1,language:h.a.hasOwnProperty(navigator.language)?navigator.language:"ca-es",theme:!1},t}return Object(r.a)(c,[{key:"componentDidMount",value:function(){document.addEventListener("onNewServiceWorker",this.handleNewServiceWorker)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("onNewServiceWorker",this.handleNewServiceWorker)}},{key:"render",value:function(){var e=this,t=this.state,a=t.newServiceWorkerDetected,n=t.language,r=t.theme,o=h.a[n];return l.a.createElement(E,{translations:o,language:n},l.a.createElement(d.a,{parent:this,prefix:"App",blacklist:["newServiceWorkerDetected","initializing"],onParentStateHydrated:function(){return e.setState({initializing:!1})}}),l.a.createElement(f.a,{origin:"Dashboard"},l.a.createElement(g.a,{newServiceWorkerDetected:a,onLoadNewServiceWorkerAccept:this.handleLoadNewServiceWorkerAccept,language:n,onLanguageChange:this.handleLanguageChange,theme:r},l.a.createElement(f.a,{origin:"WidgetsList"},l.a.createElement(v.a,null)))))}}]),c}(l.a.Component);t.a=y}).call(this,a(42))},118:function(e,t,a){"use strict";(function(e){var n=a(21),r=a(72),o=a(16),i=a(0),c=a.n(i),l=a(27),s=a(4),u=a(186),d=a(20),p=a(30),m=a(194),h=a(36),f=a(139),g=a(138),v=a(78),b=a.n(v),E=a(140),y=a(119),j=a.n(y),w=a(141),O=a(97),C=a(136),k=a(137),S=a(23),D=a(24),x=a(90),M=Object(u.a)((function(e){return{toolbarIcon:Object(o.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(r.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)})}})),P=Object(l.translate)("Menu")((function(e){var t=M(),a=e.t;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t.toolbarIcon},c.a.createElement(g.a,{edge:"start",color:"inherit","aria-label":a("close menu"),onClick:e.handleDrawerClose},c.a.createElement(b.a,null)),c.a.createElement(h.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},a("Menu")),c.a.createElement(g.a,{"aria-label":a("close menu"),onClick:e.handleDrawerClose},c.a.createElement(j.a,null))),c.a.createElement(f.a,null),c.a.createElement(E.a,null,c.a.createElement(x.a,null)),c.a.createElement(f.a,null),c.a.createElement(E.a,null,c.a.createElement(x.b,null)))})),T=Object(l.translate)("Menu")((function(t){var a=M(),r=t.handleDrawerOpen,o=t.handleDrawerClose,i=t.open,l=t.newServiceWorkerDetected,u=t.t,h=Object(d.a)(),f=Object(w.a)(h.breakpoints.up("md")),g=f?p.a:m.a,v=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),b=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&(e?r():o())}},E=function(e){e.preventDefault(),o(),t.onLoadNewServiceWorkerAccept()};return c.a.createElement(g,Object.assign({},f?{variant:"permanent"}:{anchor:"left",onClose:b(!1),onOpen:b(!0),disableBackdropTransition:!v,disableDiscovery:v},{classes:{paper:Object(s.a)(a.drawerPaper,!i&&a.drawerPaperClose)},open:i}),c.a.createElement(P,{handleDrawerClose:o}),l?c.a.createElement(O.a,{button:!0,component:function(e){var t=e.children,a=Object(n.a)(e,["children"]);return c.a.createElement("a",Object.assign({href:"/covid",style:{color:"green"},title:u("New update available!"),onClick:E},a),t)}},c.a.createElement(C.a,null,c.a.createElement(S.a,{icon:D.a,style:{fontSize:"1.5rem",color:"green"}})),c.a.createElement(k.a,{primary:u("Update!")})):null)}));t.a=T}).call(this,a(109))},120:function(e,t,a){"use strict";(function(e){var n,r=a(21),o=a(16),i=a(9),c=a(12),l=a(14),s=a(13),u=a(0),d=a.n(u),p=a(17),m=a(188),h=a(190),f=a(189),g=a(191),v=a(141),b=a(20),E=a(27),y=function(t){Object(s.a)(n,t);var a=Object(l.a)(n);function n(t){var r;return Object(i.a)(this,n),r=a.call(this),"history"in t&&""===t.history.location.hash||(console.log("CloseModal: ",{props:t}),e.setTimeout((function(){return t.history.push("#")}),10)),r}return Object(c.a)(n,[{key:"render",value:function(){return null}}]),n}(d.a.PureComponent),j=function(t){Object(s.a)(n,t);var a=Object(l.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=a.call(this)).openModal=function(){return r.setState({modalIsOpen:!0})},r.closeModal=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"history"in t&&""===t.history.location.path||r.timer||(r.timer=e.setTimeout((function(){r.history.push("#"),r.timer=void 0}),10))},r.handleHistoryChange=function(e,t){var a=r.getPathState(e);r.setState(a)},r.history=t.history,r.state=Object(o.a)({},r.getPathState(t.location),{autoForce:!1,forced:t.force}),r}return Object(c.a)(n,[{key:"getPathState",value:function(e){var t=e.hash.replace(/[^#]*#(.*)$/,"$1");return{modalIsOpen:!!t.length&&"close"!==t,path:t,initialPath:this.state?this.state.initialPath:t}}},{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleHistoryChange)}},{key:"componentWillUnmount",value:function(){this.unlisten(),this.timer&&e.clearTimeout(this.timer)}},{key:"componentDidUpdate",value:function(e,t){!1!==this.props.force&&this.props.force!==e.force&&this.state.forced!==this.props.force&&this.setState({forced:this.props.force}),this.state.autoForce===this.state.path&&this.setState({autoForce:!1}),t.path===this.state.forced&&t.path!==this.state.path&&!1!==this.state.initialPath&&this.state.initialPath.length>1&&this.state.autoForce!==this.state.initialPath&&this.setState({autoForce:this.state.initialPath})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.initializing,n=e.force,r=e.fullScreen,o=e.t,i=this.state,c=i.autoForce,l=i.path,s=i.forced;return a?null:!1!==n&&n!==l?d.a.createElement(p.a,{push:!0,to:{hash:n}}):!1!==c&&c!==l&&s!==l?d.a.createElement(p.a,{push:!0,to:{hash:c}}):d.a.createElement(m.a,{open:this.state.modalIsOpen,onClose:this.closeModal,fullScreen:r,"aria-labelledby":"modal_heading","aria-describedby":"modal_description"},d.a.createElement(f.a,null,d.a.createElement(p.d,{location:{pathname:l}},t,d.a.createElement(p.b,{render:function(e){return d.a.createElement(y,e)}}))),d.a.createElement(h.a,null,d.a.createElement(g.a,{autoFocus:!0,onClick:this.closeModal,color:"primary"},o("Close"))))}}]),n}(d.a.PureComponent),w=(n=j,function(e){var t=Object(b.a)(),a=Object(v.a)(t.breakpoints.down("sm"));return d.a.createElement(n,Object.assign({},e,{fullScreen:a}))}),O=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(r.a)(e,["children"]);return d.a.createElement(p.b,{path:":path(.*)",render:function(e){return d.a.createElement(w,Object(o.a)({children:t},a,{},e))}})}}]),a}(d.a.PureComponent);t.a=Object(E.translate)("ModalRouter")(O)}).call(this,a(42))},122:function(e,t,a){e.exports=a.p+"static/media/loading.73ea1e4a.svg"},129:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e){if("serviceWorker"in navigator){if(new URL("/covid",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/covid","/service-worker.js");n?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):o(t,e)}))}}function o(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}},130:function(e,t,a){"use strict";a.d(t,"a",(function(){return dt}));var n,r=a(21),o=a(16),i=a(0),c=a.n(i),l=a(186),s=a(245),u=a(246),d=a(247),p=a(191),m=a(23),h=a(24),f=a(9),g=a(12),v=a(14),b=a(13),E=a(188),y=a(190),j=a(189),w=a(244),O=a(141),C=a(20),k=a(121),S=a.n(k),D=a(81),x=a(138),M=a(132),P=a(242),T=a(136),N=a(137),R=c.a.forwardRef((function(e,t){return c.a.createElement(P.a,{key:e.option,onClick:function(){return e.onClick(e.option)},ref:t},c.a.createElement(T.a,null,e.icon),c.a.createElement(N.a,{primary:e.label}))})),A=function(e){var t=c.a.useState(null),a=Object(D.a)(t,2),n=a[0],r=a[1],o=Boolean(n),i=function(){return r(null)},l=function(t){i(),e.onClick(t)};return c.a.createElement("div",null,c.a.createElement(x.a,{"aria-label":"widget actions","aria-controls":"widget-menu-".concat(e.id),"aria-haspopup":"true",onClick:function(e){return r(e.currentTarget)}},c.a.createElement(m.a,{icon:h.c})),n?c.a.createElement(M.a,{id:"widget-menu-".concat(e.id),anchorEl:n,keepMounted:!0,open:o,onClose:i,PaperProps:{style:{width:"20ch"}}},Object.keys(e.options).filter((function(e){return"view"!==e})).map((function(t){return c.a.createElement(R,{key:t,option:t,onClick:l,icon:e.options[t].icon,label:e.options[t].label||t})}))):null)},V=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleClickOpen=function(t){e.setState({open:t})},e.handleClose=function(){e.setState({open:!1})},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.state.open,t=this.props.id,a=this.props,n=a.sections,o=a.fullScreen,i=Object(r.a)(a,["sections","fullScreen"]),l=e?n[e].render:function(){},s=e?n[e].title:function(){};return c.a.createElement("div",null,c.a.createElement(A,{options:n,id:t,onClick:this.handleClickOpen}),e?c.a.createElement(E.a,Object.assign({key:e,open:!0,onClose:this.handleClose},o?{}:{TransitionComponent:S.a},{fullScreen:o,"aria-labelledby":"draggable-dialog-title-".concat(t,"-").concat(e)}),c.a.createElement(w.a,{style:{cursor:"move"},id:"draggable-dialog-title-".concat(t,"-").concat(e)},c.a.createElement(s,i)),c.a.createElement(j.a,null,c.a.createElement(l,i)),c.a.createElement(y.a,null,c.a.createElement(p.a,{autoFocus:!0,onClick:this.handleClose,color:"primary"},"Tanca"))):null)}}]),a}(c.a.PureComponent),F=(n=V,function(e){var t=Object(C.a)(),a=Object(O.a)(t.breakpoints.down("sm"));return c.a.createElement(n,Object.assign({},e,{fullScreen:a}))}),I=Object(l.a)((function(e){return{root:{height:"100%"}}})),W=function(e){var t=Object(o.a)({},e,{remove:{icon:c.a.createElement(m.a,{icon:h.h}),label:"Elimina",title:function(e){return"Eliminar?"},render:function(e){var t=e.id,a=e.onRemove;return c.a.createElement(p.a,{startIcon:c.a.createElement(m.a,{icon:h.h}),onClick:function(){return a(t)},variant:"contained",color:"primary","aria-label":"delete"},"Confirma l'eliminaci\xf3")}}}),a=t.view.render;return function(e){var n=I(),o=(e.indexValues,Object(r.a)(e,["indexValues"])),i=c.a.createElement(F,Object.assign({},o,{sections:t}));return c.a.createElement(s.a,{className:n.root},c.a.createElement(u.a,{action:i,title:e.name,subheader:e.subtitle}),c.a.createElement(d.a,null,c.a.createElement(a,e)))}},U=c.a.createContext((function(){})),L=function(e,t){var a=function(a){Object(b.a)(o,a);var n=Object(v.a)(o);function o(){var a;Object(f.a)(this,o);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(a=n.call.apply(n,[this].concat(l))).dataHandler=function(n){var o=a.props,i=o.forwardedRef,l=Object(r.a)(o,["forwardedRef"]),s=n.onChangeData,u=void 0===s?function(){}:s,d=Object(r.a)(n,["onChangeData"]),p=Object.assign({},t,d,l);return c.a.createElement(e,Object.assign({ref:i,onChangeData:u},p))},a}return Object(g.a)(o,[{key:"render",value:function(){return c.a.createElement(U.Consumer,null,this.dataHandler)}}]),o}(c.a.Component),n=c.a.forwardRef((function(e,t){return c.a.createElement(a,Object.assign({},e,{forwardedRef:t}))}));return n.defaultProps=e.defaultProps,n},_=a(17),G=a(70),K=a.n(G),z=a(122),B=a.n(z),H=function(e){var t=e.style,a=void 0===t?{}:t,n=e.restProps;return c.a.createElement("img",Object.assign({alt:"Loading...",src:B.a,style:Object(o.a)({width:"80%",margin:"auto",display:"block"},a)},n))},q=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={initializing:!0,data:{}},e.onChangeData=function(t){e.setState({data:t})},e.stopInitializing=function(){e.setState({initializing:!1})},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(r.a)(e,["children"]),n=this.state,i=n.initializing,l=n.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a,{parent:this,prefix:"LocalStorageProvider",blacklist:["initializing"],onParentStateHydrated:this.stopInitializing}),i?c.a.createElement(H,null):c.a.createElement(U.Provider,{value:Object(o.a)({onChangeData:this.onChangeData},a,{data:l})},t))}}]),a}(c.a.Component),J=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).unlisten=function(){},n.historyPush=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.props.paramsToString(e);n.history.location.pathname!==a&&(t?n.history.replace(a+n.history.location.hash):n.history.push(a+n.history.location.hash))},n.handleHistoryChange=function(e,t){},n.componentDidMount=function(){n.unlisten=n.history.listen(n.handleHistoryChange),!n.props.params.widgets.length&&n.props.data.widgets&&n.props.data.widgets.length&&n.historyPush(n.props.data,!0)},n.componentWillUnmount=function(){n.unlisten()},n.onChangeData=function(e){n.historyPush(Object(o.a)({},e),!0),n.props.onChangeData(Object(o.a)({},e))},n.history=e.history,n}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.data,n=e.params,i=(e.paramsFilter,e.paramsToString,e.history,e.onChangeData,Object(r.a)(e,["children","data","params","paramsFilter","paramsToString","history","onChangeData"]));return c.a.createElement(U.Provider,{value:Object(o.a)({onChangeData:this.onChangeData},i,{},a,{},n)},t)}}]),a}(c.a.Component),$=L((function(e){var t=e.pathFilter,a=e.paramsFilter,n=e.paramsToString,o=Object(r.a)(e,["pathFilter","paramsFilter","paramsToString"]);return c.a.createElement(_.d,null,c.a.createElement(_.b,{path:t,render:function(e){var t=e.match.params,r=e.history,i=a(t);return c.a.createElement(J,Object.assign({paramsFilter:a,paramsToString:n,history:r},o,{params:i}))}}))}),{data:{widgets:{type:"map"}}}),Y=function(e){var t=e.children,a=e.pathFilter,n=e.paramsFilter,r=e.paramsToString;return c.a.createElement(q,null,c.a.createElement($,{pathFilter:a,paramsFilter:n,paramsToString:r},t))},Q=a(55),X=a(4),Z=a(5),ee=a(250),te=a(99),ae=a(253),ne=a(123),re=a(93),oe=a.n(re),ie=a(94),ce=a(124),le=function(){},se=function(){function e(t){var a=this;Object(f.a)(this,e),this.name="Common",this.controller=new AbortController,this.handleFetchErrors=function(e){return e.ok?e:new Error("".concat(a.name," backend: ").concat(e.statusText))},this.catchFetchErrors=function(e){"AbortError"===e.name?console.log("Connection aborted",e):(e.message="".concat(a.name," backend: ").concat(e.message),a.onError(e))},this.onUpdate=t&&t.onUpdate?t.onUpdate:le,this.onError=t&&t.onError?t.onError:le}return Object(g.a)(e,[{key:"abort",value:function(){this.controller.abort(),this.controller=new AbortController}}]),e}(),ue=function(e){return 0===e.length?0:Object(Q.a)(e).map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){var a=(e<<5)-e+t;return a&a}),0)},de=function e(t){var a=this;Object(f.a)(this,e),this.signal=null,this.result=null,this.lastModified=0,this.invalidated=!1,this.listeners=[],this.url="",this.handleFetchErrors=function(e){if(!e.ok)throw new Error("".concat(e.statusText));return e},this.catchFetchErrors=function(e){e.name,e.message="".concat(a.url,": ").concat(e.message),a.onError(e)},this.cleanFetch=function(){return a.signal=null},this.onError=function(e){a.listeners.forEach((function(t){t.onError(e)})),a.cleanFetch()},this.addListener=function(e,t){return a.listeners.push({onSuccess:e,onError:t}),a.signal||null!==a.result||a.fetch(),a.invalidated||null===a.result||new Promise((function(e,t){return e(a.result)})).then(e),function(){return a.removeListener(e)}},this.removeListener=function(e){var t=a.listeners.map((function(e,t){return{listener:e,index:t}})).find((function(t){return t.listener.onSuccess===e}));t?a.listeners.splice(t.index,1):console.warning("Remove listener from ".concat(a.url,": Listener not found")),a.signal&&0===a.listeners.length&&(a.signal.abort(),a.cleanFetch())},this.processSuccessFetch=function(e){var t=e.result,n=e.lastModified;return a.result=t,a.lastModified=n,a.listeners.forEach((function(e){return e.onSuccess(a.result)})),a.cleanFetch(),a.result},this.getLastModifiedFromResponse=function(e){return new Date(e.headers.get("last-modified"))},this.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return a.signal=new AbortController,fetch(a.url,{signal:a.signal.signal}).then(a.handleFetchErrors).then((function(e){return e.json().then((function(t){return{result:t,lastModified:a.getLastModifiedFromResponse(e)}}))})).then(a.processSuccessFetch).then(e).catch(a.catchFetchErrors)},this.checkIfNeedUpdate=function(e,t){fetch(a.url,{method:"HEAD"}).then(a.handleFetchErrors).then(a.getLastModifiedFromResponse).then((function(e){return e>a.lastModified})).then(e).catch(t)},this.invalidate=function(){return new Promise((function(e,t){null!==a.result?(a.invalidated=!0,a.listeners.length>0?a.fetch(e):e()):e()}))},this.url=t},pe=new function e(){var t=this;Object(f.a)(this,e),this.data={},this.name="Cache manager",this.fetch=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=ue(e);return r in t.data||(t.data[r]=new de(e)),t.data[r].addListener(a,n)},this.checkIfNeedUpdate=function(e,a,n){var r=ue(e);t.data[r].checkIfNeedUpdate(a,n)},this.invalidate=function(e){var a=ue(e);return a in t.data?t.data[a].invalidate():new Promise((function(e,t){e()}))}};Object.freeze(pe);var me=pe,he="https://emibcn.github.io/covid-data/Maps",fe="".concat(he,"/days.json"),ge="".concat(he,"/Comarca.svg"),ve="".concat(he,"/Municipi.svg"),be="".concat(he,"/MapData-Comarca-edat.json"),Ee="".concat(he,"/MapData-Comarca-pcrpos.json"),ye="".concat(he,"/MapData-Comarca-risc.json"),je="".concat(he,"/MapData-Comarca-rt.json"),we="".concat(he,"/MapData-Comarca-taxa_conf.json"),Oe="".concat(he,"/MapData-Comarca-taxapcr.json"),Ce="".concat(he,"/MapData-Municipi-edat.json"),ke="".concat(he,"/MapData-Municipi-pcrpos.json"),Se="".concat(he,"/MapData-Municipi-risc.json"),De="".concat(he,"/MapData-Municipi-rt.json"),xe={days:fe,metadata:{risc:{title:"Risc de rebrot (iEPG) a poblaci\xf3 general",label:"Risc de rebrot (iEPG)",name:"Risc de rebrot (iEPG)",colors:[{color:"#400",nom:"Risc m\xe0xim",valor:210},{color:"#800",nom:"Risc extrem",valor:190},{color:"#c00",nom:"Risc alt\xedssim",valor:160},{color:"#f00",nom:"Risc molt alt",valor:130},{color:"#f40",nom:"Risc alt",valor:100},{color:"#f80",nom:"Risc mitj\xe0-alt",valor:70},{color:"#fc0",nom:"Risc mitj\xe0",valor:50},{color:"#ff0",nom:"Risc mitj\xe0-baix",valor:30},{color:"#cf0",nom:"Risc baix",valor:15},{color:"#8f4",nom:"Risc molt baix",valor:5},{color:"#4f8",nom:"Risc no nul",valor:1},{color:"#0fc",nom:"Risc m\xednim",valor:0}]},taxa_conf:{title:"Taxa setmanal de casos confirmats PCR a tota la poblaci\xf3",label:"Taxa confirmats per PCR",name:"Taxa setmanal de casos confirmats PCR",colors:[{color:"#a00",nom:">=300",valor:300},{color:"#d00",nom:">=200 i <300",valor:200},{color:"#f00",nom:">=100 i <200",valor:100},{color:"#f80",nom:">=75 i <100",valor:75},{color:"#fa0",nom:">=50 i <75",valor:50},{color:"#fc0",nom:">=25 i <50",valor:25},{color:"#0b0",nom:">=15 i <25",valor:15},{color:"#090",nom:"<15",valor:0}]},rt:{title:"Velocitat de propagaci\xf3 (Rt) a poblaci\xf3 general",label:"Rt",name:"Velocitat de propagaci\xf3 (Rt)",colors:[{color:"#f00",nom:">=2",valor:2},{color:"#f70",nom:">=1.5 i <2",valor:1.5},{color:"#fa0",nom:">=1.2 i <1.5",valor:1.2},{color:"#fc0",nom:">1 i <1.2",valor:1.00001},{color:"#0a0",nom:"<=1",valor:0}]},edat:{title:"Mitjana d'edat dels casos confirmats per PCR a tota la poblaci\xf3",label:"Mitjana edat",name:"Mitjana d'edat dels casos confirmats per PCR",colors:[{color:"#08519c",nom:">=60",valor:60},{color:"#3182bd",nom:">=50 i <60",valor:50},{color:"#6baed6",nom:">=40 i <50",valor:40},{color:"#9ecae1",nom:">=30 i <40",valor:30},{color:"#c6dbef",nom:">=20 i <30",valor:20},{color:"#eff3ff",nom:"< 20",valor:0}]},pcrpos:{title:"Percentatge de PCR positives a tota la poblaci\xf3",label:"% PCR +",name:"Percentatge de PCR positives",colors:[{color:"#a50026",nom:">=40%",valor:40},{color:"#d73027",nom:">=30% i <40%",valor:30},{color:"#f46d43",nom:">=20% i <30%",valor:20},{color:"#fdae61",nom:">=15% i <20%",valor:15},{color:"#fee08b",nom:">=10% i <15%",valor:10},{color:"#ffffbf",nom:">=8% i <10%",valor:8},{color:"#66bd63",nom:">=5% i <8%",valor:5},{color:"#1a9850",nom:">=3% i <5%",valor:3},{color:"#006837",nom:"<3%",valor:0}]},taxapcr:{title:"Taxa PCR per 100.000 habitants a tota la poblaci\xf3",label:"Taxa PCR",name:"Taxa PCR per 100.000 habitants",colors:[{color:"#08306b",nom:">=1000",valor:1e3},{color:"#08519c",nom:">=800 i <1000",valor:800},{color:"#2171b5",nom:">=600 i <800",valor:600},{color:"#4292c6",nom:">=500 i <600",valor:500},{color:"#6baed6",nom:">=400 i <500",valor:400},{color:"#9ecae1",nom:">=300 i <400",valor:300},{color:"#c6dbef",nom:">=200 i <300",valor:200},{color:"#deebf7",nom:">=100 i <200",valor:100},{color:"#f7fbff",nom:"<100",valor:0}]}},kind:{Comarca:{svg:ge,values:{risc:ye,taxa_conf:we,rt:je,edat:be,pcrpos:Ee,taxapcr:Oe}},Municipi:{svg:ve,values:{risc:Se,taxa_conf:"".concat(he,"/MapData-Municipi-taxa_conf.json"),rt:De,edat:Ce,pcrpos:ke,taxapcr:"".concat(he,"/MapData-Municipi-taxapcr.json")}}}},Me=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).name="Maps JSON Files",e.timerDataUpdate=!1,e.officialUpdateTime="10:35".split(":"),e.days=function(e){return me.fetch(xe.days,e)},e.data=function(e,t,a){return me.fetch(xe.kind[e].values[t],a)},e.checkUpdate=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};me.checkIfNeedUpdate(xe.days,(function(e){t(e)}),(function(t){console.error("".concat(e.name,": updating data from backend: "),t),a(t)}))},e.updateAll=function(e){!function(){var e=Object(ce.a)(oe.a.mark((function e(t){var n,r,o,i,c,l;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(ie.a)(a.kinds()),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=26;break}o=r.value,i=Object(ie.a)(a.values(o)),e.prev=6,i.s();case 8:if((c=i.n()).done){e.next=15;break}return l=c.value,e.next=13,me.invalidate(xe.kind[o].values[l]);case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:case 24:e.next=3;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(1),n.e(e.t1);case 31:return e.prev=31,n.f(),e.finish(31);case 34:return e.next=38,me.invalidate(xe.days);case 38:t(!0);case 39:case"end":return e.stop()}}),e,null,[[1,28,31,34],[6,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()(e)},e.updateIfNeeded=function(t){e.checkUpdate((function(a){a?e.updateAll((function(){return t(!0)})):t(!1)}))},e.cancelUpdateSchedule=function(){e.timerDataUpdate&&clearTimeout(e.timerDataUpdate)},e.scheduleNextUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1===t?e.millisToNextUpdate():t;e.cancelUpdateSchedule(),e.timerDataUpdate=setTimeout((function(){return e.updateIfNeeded((function(t){return!(!a&&t)&&e.scheduleNextUpdate(!t&&3e5)}))}),n)},e.millisToNextUpdate=function(){var t=new Date,a=Object(ne.a)(Date,[t.getFullYear(),t.getMonth(),t.getDate()].concat(Object(Q.a)(e.officialUpdateTime),[0,0]))-t;return a<=0?a+864e5:a},e}return a}(se);Me.kinds=function(){return Object.keys(xe.kind)},Me.values=function(e){return Object.keys(xe.kind[e].values)},Me.svg=function(e){return xe.kind[e].svg},Me.metadata=function(e,t){return xe.metadata[e][t]},Me.metaColors=function(e){return Me.metadata(e,"colors")},Me.metaTitle=function(e){return Me.metadata(e,"title")},Me.metaLabel=function(e){return Me.metadata(e,"label")},Me.metaName=function(e){return Me.metadata(e,"name")};var Pe=Me,Te=a(68),Ne=a(134),Re=a(95),Ae=(a(182),function(){return c.a.createElement("span",null,"Error!")}),Ve=function(){return c.a.createElement(H,null)},Fe=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).svg=null,e.wrapperNodeSVG=c.a.createRef(),e.getSVG=function(){return e.wrapperNodeSVG.current.svgWrapper.querySelector("svg")},e.isSVGMounted=function(){return e.wrapperNodeSVG&&"current"in e.wrapperNodeSVG&&e.wrapperNodeSVG.current&&"svgWrapper"in e.wrapperNodeSVG.current&&e.wrapperNodeSVG.current.svgWrapper&&"querySelector"in e.wrapperNodeSVG.current.svgWrapper&&e.getSVG()},e.get_color_fons=function(t){var a=e.props.colors.find((function(e){return t>=e.valor}));return a?a.color:"fff"},e.setColorBackground=function(t,a,n){var r=t.querySelector("#".concat(n));r&&(r.style.fill=e.get_color_fons(a[n]))},e.omplir_colors=function(t){var a=e.props.valors[e.props.indexValues],n=e.setColorBackground.bind(Object(Te.a)(e),t,a);Object.keys(a).forEach(n)},e.getTipContent=function(t){if(t&&e.isSVGMounted()){var a=e.props.valors[e.props.indexValues],n=e.svg.querySelector("#".concat(t));if(!n)return"";var r=n.getAttribute("label");return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,r),e.props.label,": ",a[t])}return""},e.setTooltipData=function(t){var a="mapa-".concat(e.props.id);t.querySelectorAll(".map_elem").forEach((function(e){e.setAttribute("data-tip",e.id),e.setAttribute("data-for",a)}))},e.beforeInjection=function(t){e.svg=t,e.omplir_colors(t),e.setTooltipData(t)},e.afterInjection=function(t,a){if(t)throw Error(t);Re.a.rebuild(),e.svg=a,e.omplir_colors(e.svg)},e.updateColorsIfPossible=function(){e.isSVGMounted()&&e.svg&&e.omplir_colors(e.svg)},e}return Object(g.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.updateColorsIfPossible()}},{key:"componentDidMount",value:function(){this.updateColorsIfPossible()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,{src:this.props.mapSrc,ref:this.wrapperNodeSVG,role:"img","aria-label":"Description of the overall image",beforeInjection:this.beforeInjection,afterInjection:this.afterInjection,evalScripts:"never",fallback:Ae,loading:Ve,renumerateIRIElements:!1}),c.a.createElement(Re.a,{id:"mapa-".concat(this.props.id),getContent:this.getTipContent}))}}]),a}(c.a.Component);Fe.defaultProps={dies:[],valors:[],indexValues:0,label:"Index"};var Ie=Fe,We=a(256),Ue=a(249),Le=a(248),_e=a(252),Ge=a(139),Ke=Object(l.a)((function(e){return{formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),ze=function(e){var t=Ke(),a=e.label,n=e.help,o=e.id,i=e.options,l=Object(r.a)(e,["label","help","id","options"]);return c.a.createElement("div",{style:{margin:"0 auto",display:"block"}},c.a.createElement(Le.a,{required:!0,className:t.formControl},c.a.createElement(We.a,{htmlFor:o},a),c.a.createElement(_e.a,Object.assign({native:!0},l,{"aria-describedby":"helper-text-".concat(o),inputProps:{name:a,id:o}}),i.map((function(e){return c.a.createElement("option",{key:"v_".concat(e.value),value:e.value},e.label)}))),n?c.a.createElement(Ue.a,{id:"helper-text-".concat(o)},n):null))},Be=Pe.kinds().map((function(e){return{value:e,label:e}})),He=function(e){return c.a.createElement(ze,Object.assign({options:Be,label:"Tipus",help:"Selecciona el tipus de regions a mostrar"},e))},qe=Pe.kinds().reduce((function(e,t){return e[t]=Pe.values(t).map((function(e){return{value:e,label:Pe.metaName(e)}})),e}),{}),Je=function(e){var t=e.kind,a=Object(r.a)(e,["kind"]);return c.a.createElement(ze,Object.assign({label:"Valors",help:"Selecciona l'origen de les dades",options:qe[t]},a))},$e=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChangeMapKind=function(t){console.log("Event: ",t),e.props.onChangeMapKind(t.target.value)},e.onChangeMapValue=function(t){return e.props.onChangeMapValue(t.target.value)},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props,t=e.mapKind,a=e.mapValue;return c.a.createElement("div",{style:{textAlign:"left"}},c.a.createElement(He,{value:t,onChange:this.onChangeMapKind}),c.a.createElement(Ge.a,{style:{margin:"2em 0"}}),c.a.createElement(Je,{kind:t,value:a,onChange:this.onChangeMapValue}))}}]),a}(c.a.PureComponent),Ye=function(e){return c.a.createElement("table",{style:{margin:"0 auto",marginTop:".5em"}},c.a.createElement("tbody",null,e.colors.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",{style:{paddingRight:20,textAlign:"left"}},t.nom),c.a.createElement("td",null,0===a?"> ".concat(t.valor):"".concat(t.valor,"-").concat(e.colors[a-1].valor)),c.a.createElement("td",{style:{backgroundColor:t.color,width:50,border:"1px solid #000"}}))}))))},Qe=W({view:{icon:c.a.createElement(m.a,{icon:h.d}),label:"Veure",title:function(e){return e.name},render:function(e){return c.a.createElement(c.a.Fragment,null,null===e.mapData?c.a.createElement(H,null):c.a.createElement(Ie,{label:e.label,dies:e.days,valors:e.mapData.valors,mapSrc:Pe.svg(e.mapKind),indexValues:e.indexValues,colors:e.colors,id:e.id}))}},edit:{icon:c.a.createElement(m.a,{icon:h.b}),label:"Edita",title:function(e){return"Edita les opcions del mapa"},render:function(e){return c.a.createElement($e,{mapKind:e.mapKind,mapValue:e.mapValue,onChangeMapKind:e.onChangeMapKind,onChangeMapValue:e.onChangeMapValue})}},legend:{icon:c.a.createElement(m.a,{icon:h.e}),label:"Llegenda",title:function(e){return e.title},render:function(e){return c.a.createElement(Ye,{colors:e.colors,subtitle:e.days[e.indexValues]})}}}),Xe=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;Object(f.a)(this,a),(n=t.call(this,e)).getMeta=function(e){return{colors:Pe.metaColors(e),title:Pe.metaTitle(e),label:Pe.metaLabel(e),name:Pe.metaLabel(e)}},n.updateData=function(){var e=n.props,t=e.mapKind,a=e.mapValue;n.cancelDataUpdate&&n.cancelDataUpdate(),n.cancelDataUpdate=n.MapData.data(t,a,(function(e){t===n.props.mapKind&&a===n.props.mapValue&&n.setState({mapData:e})}))},n.onChangeMapKind=function(e){var t=n.props.mapValue;n.setState({mapData:null}),n.props.onChangeData(n.props.id,{mapKind:e,mapValue:t})},n.onChangeMapValue=function(e){var t=n.props.mapKind;n.setState(Object(o.a)({mapData:null},n.getMeta(e))),n.props.onChangeData(n.props.id,{mapKind:t,mapValue:e})},n.MapData=new Pe,n.cancelDataUpdate=!1;var r=e.mapKind,i=e.mapValue;return n.state=Object(o.a)({mapData:null,mapKindDefault:r,mapValueDefault:i},n.getMeta(i)),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e,t){t.mapData!==this.state.mapData&&null===this.state.mapData?this.updateData():this.props.mapKind===e.mapKind&&this.props.mapValue===e.mapValue||this.setState({mapData:null})}},{key:"render",value:function(){var e=this.props,t=e.days,a=e.indexValues,n=e.id,r=e.mapKind,o=e.mapValue,i=this.state,l=i.mapData,s=i.mapKindDefault,u=i.mapValueDefault,d=i.colors,p=i.title,m=i.label,h=i.name;return c.a.createElement("div",{style:{minWidth:"200px",height:"100%",paddingTop:".3em",flex:"1 1 0px"}},c.a.createElement(Qe,{id:n,mapKind:r,mapValue:o,mapKindDefault:s,mapValueDefault:u,onChangeMapKind:this.onChangeMapKind,onChangeMapValue:this.onChangeMapValue,onRemove:this.props.onRemove,mapData:l,indexValues:a,days:t,colors:d,title:p,label:m,name:h}))}}]),a}(c.a.Component),Ze=Pe.kinds()[0],et=Pe.values(Ze)[0];Xe.defaultProps={mapKind:Ze,mapValue:et,onChangeData:function(){},onRemove:function(){}};var tt=Xe,at=function(){function e(){var t=this;Object(f.a)(this,e),this.timer=!1,this.clear=function(){!1!==t.timer&&(clearTimeout(t.timer),t.timer=!1)}}return Object(g.a)(e,[{key:"start",value:function(e){this.timer=setTimeout(this.clear,e)}},{key:"run",value:function(e,t,a){e&&this.clear(),!1===this.timer&&(this.start(t),a())}}]),e}(),nt=a(255),rt=(a(183),Object(l.a)((function(e){return{popper:{zIndex:1},tooltip:{fontSize:"1rem"}}}))),ot=function(e){var t=e.children,a=e.open,n=e.value,r=rt();return c.a.createElement(ae.a,{open:a,enterTouchDelay:0,placement:"bottom",title:n,classes:{popper:r.popper,tooltip:r.tooltip},arrow:!0},t)},it=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(){e.props.isPlaying?e.props.onPause():e.props.onPlay()},e}return Object(g.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"playpause"},c.a.createElement("input",{type:"checkbox",id:"playpause",name:"check",checked:!this.props.isPlaying,onChange:this.onChange,"aria-label":"Toggle play status"}),c.a.createElement("label",{htmlFor:"playpause",style:{borderLeftColor:""}}))}}]),a}(c.a.PureComponent),ct=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isPlaying:!1},e.timer=!1,e.onPause=function(){e.clearTimer(),e.setState({isPlaying:!1})},e.onPlay=function(){e.setTimer(),e.setState({isPlaying:!0})},e.setTimer=function(){e.clearTimer(),e.timer=setTimeout(e.updatePlay,40)},e.clearTimer=function(){e.timer&&(clearTimeout(e.timer),e.timer=!1)},e.updatePlay=function(){e.props.onChange({},e.props.value<e.props.max-1?e.props.value+1:0),e.setTimer()},e}return Object(g.a)(a,[{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"render",value:function(){var e=this.state.isPlaying;return c.a.createElement(c.a.Fragment,null,c.a.createElement(nt.a,Object.assign({valueLabelDisplay:"on",ValueLabelComponent:ot,"aria-labelledby":"discrete-slider-small-steps",step:1,min:0,style:{margin:"0 1em"}},this.props)),c.a.createElement(it,{onPlay:this.onPlay,onPause:this.onPause,isPlaying:e}))}}]),a}(c.a.PureComponent),lt=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},st=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={days:null,current:null},n.widgetsIds=[],n.throtle=new at,n.MapData=new Pe,n.updateIDs=function(e){for(;n.widgetsIds.length<e;)n.widgetsIds.push("a-"+lt()+lt()+"-"+lt()+"-"+lt()+"-"+lt()+"-"+lt()+lt()+lt())},n.onSetDate=function(e,t){return n.throtle.run(!1,10,(function(){return n.setState({current:t})}))},n.sliderTipFormatter=function(e){return n.state.days[e]},n.widgetType={map:tt},n.onAdd=function(){var e=Object(Q.a)(n.props.widgets);return e.push({type:"map"}),n.updateIDs(e.length),n.props.onChangeData({widgets:e})},n.onRemove=function(e){var t=n.props.widgets.filter((function(t,a){return n.widgetsIds[a]!==e}));return n.widgetsIds=n.widgetsIds.filter((function(t){return t!==e})),n.props.onChangeData({widgets:t})},n.onChangeData=function(e,t){var a=n.props.widgets.map((function(a,r){return Object(o.a)({},a,{},e===n.widgetsIds[r]?{payload:t}:{})}));return n.props.onChangeData({widgets:a})},"widgets"in e&&n.updateIDs(e.widgets.length),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.MapData.days((function(t){var a=!e.state.current||!e.state.days||e.state.current===e.state.days.length-1;e.setState(Object(o.a)({days:t},a?{current:t.length-1}:{})),e.MapData.scheduleNextUpdate()}))}},{key:"componentWillUnmount",value:function(){this.MapData.cancelUpdateSchedule(),this.throtle.clear()}},{key:"componentDidUpdate",value:function(){this.updateIDs(this.props.widgets.length)}},{key:"render",value:function(){var e=this;if(!this.state.days)return c.a.createElement(H,null);var t=this.props,a=t.widgets,n=t.classes,r=this.state,o=r.days,i=r.current,l=Object(X.a)(n.paper,n.fixed);return c.a.createElement(c.a.Fragment,null,c.a.createElement(te.a,{className:l},c.a.createElement("div",{className:n.appBarSpacer}),c.a.createElement("div",{className:n.sliderContainer},c.a.createElement(ae.a,{title:"Afegeix un gr\xe0fic","aria-label":"add"},c.a.createElement(p.a,{onClick:this.onAdd,color:"primary","aria-label":"add",className:n.addButton},c.a.createElement(m.a,{icon:h.f}))),c.a.createElement(ct,{onChange:this.onSetDate,value:i||0,valueLabelFormat:this.sliderTipFormatter,max:o.length-1}))),c.a.createElement(ee.a,{container:!0,spacing:3,className:n.widgetsContainer},a.map((function(t,a){var n=e.widgetType[t.type];return c.a.createElement(ee.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:e.widgetsIds[a]},c.a.createElement(n,Object.assign({id:e.widgetsIds[a],key:e.widgetsIds[a],days:o,indexValues:i,onChangeData:e.onChangeData,onRemove:e.onRemove},t.payload)))}))))}}]),a}(c.a.PureComponent),ut=L(Object(Z.a)((function(e){return{appBarSpacer:e.mixins.toolbar,widgetsContainer:{zIndex:10,width:"100%",margin:0},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixed:{position:"sticky",top:0,zIndex:1,padding:0,marginBottom:e.spacing(2)},sliderContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(1)},addButton:{fontSize:e.spacing(4),padding:0}}}))(st)),dt=function(e){return c.a.createElement(Y,{pathFilter:"/:widgets*",paramsFilter:function(t){var a,n=t.widgets;try{a=n.split("/").map((function(e){return JSON.parse(e)}))}catch(r){a=[]}return Object.assign({},e,{widgets:a})},paramsToString:function(e){var t=e.widgets.map((function(e){return JSON.stringify({type:e.type,payload:e.payload})})).join("/");return"/".concat(t)}},c.a.createElement(ut,e))}},133:function(e,t,a){"use strict";var n=a(81),r=a(21),o=a(0),i=a.n(o),c=a(17),l=a(4),s=a(186),u=a(238),d=a(141),p=a(131),m=a(237),h=a(251),f=a(239),g=a(240),v=a(36),b=a(138),E=a(241),y=a(236),j=a(78),w=a.n(j),O=a(118),C=a(120),k=a(62),S=a(9),D=a(12),x=a(14),M=a(13),P=a(27),T=a(23),N=a(24),R=function(e){Object(M.a)(a,e);var t=Object(x.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(D.a)(a,[{key:"render",value:function(){var e=this.props.t;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{id:"modal_heading"},i.a.createElement(T.a,{icon:N.e,style:{marginRight:".5em"}}),e("About")),i.a.createElement("div",{id:"modal_description",style:{textAlign:"left"}},i.a.createElement("p",null,e("This applications displays public information extracted from the official web")," ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://dadescovid.cat"},"https://dadescovid.cat"),"."),i.a.createElement("p",null,e("The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.")),i.a.createElement("h3",null,e("Want more information?")),i.a.createElement("p",null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid"},e("The source code is publicly available."))," ",e("There, you can find more information about how it has been done, licence and credits.")),i.a.createElement("h3",null,e("Found a bug? Have a petition? Want to help somehow?")),i.a.createElement("p",null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid/issues"},e("Create an issue at GitHub."))),i.a.createElement("h3",null,e("Licenses")),i.a.createElement("p",null,e("The application, scripts and documentation in")," ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid"},e("this project"))," ",e("are released under the")," ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid/blob/master/LICENSE"},"GNU General Public License v3.0"),"."),i.a.createElement("p",null,e("The scripts and documentation published in")," ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid-data/"},"covid-data")," ",e("are also released under the")," ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid/blob/master/LICENSE"},"GNU General Public License v3.0"),"."),i.a.createElement("p",null,e("The data scrapped and published in")," ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid-data/"},"covid-data")," ",e("is licensed by their owner, the")," ",i.a.createElement("em",null,"Generalitat de Catalunya"),e(", under their own conditions ("),i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://opendatacommons.org/licenses/by/1.0/"},"Open Data Commons Attribution License"),e(", until now).")," ",e("See more at the")," ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://analisi.transparenciacatalunya.cat/Salut/Dades-setmanals-de-COVID-19-per-comarca/jvut-jxu8"},e("dataset API documentation")),".")))}}]),a}(i.a.Component),A=Object(P.translate)("About")(R),V=function(e){return i.a.createElement(v.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",i.a.createElement(y.a,{color:"inherit",href:"https://github.com/emibcn/covid"},"Codi font de ",i.a.createElement("em",null,"Dades Covid ",i.a.createElement("code",null,"Refactored")))," ",(new Date).getFullYear(),".")},F=function(e){var t=Object(d.a)("(prefers-color-scheme: dark)"),a=e.type,n=e.children,r=i.a.useMemo((function(){return Object(p.a)({palette:{type:a||(t?"dark":"light")}})}),[t,a]);return i.a.createElement(m.a,{theme:r},i.a.createElement(u.a,null),n)},I=Object(s.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),W=function(e){return i.a.createElement(C.a,{force:!1},i.a.createElement(c.b,{exact:!0,path:"about",render:function(e){return t="About",a=i.a.createElement(A,null),i.a.createElement(k.a,{origin:t,key:t},a);var t,a}}))};t.a=function(e){var t=I(),a=e.children,o=e.theme,c=Object(r.a)(e,["children","theme"]),s=i.a.useState(!1),u=Object(n.a)(s,2),d=u[0],p=u[1],m=function(){p(!0)};return i.a.createElement(F,{type:o},i.a.createElement(W,null),i.a.createElement("div",{id:"root",className:t.root},i.a.createElement(f.a,{position:"absolute",className:Object(l.a)(t.appBar,d&&t.appBarShift)},i.a.createElement(g.a,{className:t.toolbar},i.a.createElement(b.a,{edge:"start",color:"inherit","aria-label":"open menu",onClick:m,className:Object(l.a)(t.menuButton,d&&t.menuButtonHidden)},i.a.createElement(w.a,null)),i.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"Dades Covid"))),i.a.createElement(O.a,Object.assign({handleDrawerOpen:m,handleDrawerClose:function(){p(!1)},open:d},c)),i.a.createElement("main",{className:t.content},a,i.a.createElement(E.a,{maxWidth:"lg",className:t.container},i.a.createElement(h.a,{pt:4},i.a.createElement(V,null))))))}},158:function(e,t,a){e.exports=a(159)},159:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),n=a.n(t),r=a(10),o=a.n(r),i=a(115),c=a(129);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,{onLoadNewServiceWorkerAccept:function(t){var a;t.waiting&&(navigator.serviceWorker.addEventListener("controllerchange",(function(t){a||(a=!0,console.log("Controller loaded"),e.location.reload(!0))})),t.waiting.postMessage("skipWaiting"))}})),document.getElementById("root")),c.a({onUpdate:function(e){var t=new CustomEvent("onNewServiceWorker",{detail:{registration:e}});document.dispatchEvent(t)}})}.call(this,a(42))},182:function(e,t,a){},183:function(e,t,a){},62:function(e,t,a){"use strict";var n=a(9),r=a(12),o=a(14),i=a(13),c=a(0),l=a.n(c),s=a(23),u=a(24),d=a(27),p=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).reloadApp=function(){r.sendEvent("Reload from Error"),window.location.reload()},r.state={hasError:!1,errorMessage:"",errorStack:"",info:""},r}return Object(r.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({info:t.componentStack}),this.sendEvent("Unhandled Error")}},{key:"sendEvent",value:function(e){this.props.sendEvent(e,this.props.origin,this.state.errorMessage)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.t,t=this.state,a=t.errorMessage,n=t.errorStack;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,e("Something went wrong :(")),l.a.createElement("button",{onClick:this.reloadApp,style:{padding:"1em"}},l.a.createElement(s.a,{icon:u.g,style:{margin:"0 .8em 0 .2em"}}),e("Try reloading the app to recover from it")),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h3",null,a),l.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},n)))}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorMessage:e.message,errorStack:e.stack}}}]),a}(l.a.PureComponent);p.defaultProps={origin:"No name",sendEvent:function(){}},t.a=Object(d.translate)("ErrorCatcher")(p)},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return h}));var n=a(0),r=a.n(n),o=a(47),i=a(27),c=a(97),l=a(136),s=a(137),u=a(23),d=a(24),p=function(e){var t=e.icon,a=e.primary,n=e.to,i=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(o.b,Object.assign({to:n,ref:t},e))}))}),[n]);return r.a.createElement("li",null,r.a.createElement(c.a,{button:!0,component:i},t?r.a.createElement(l.a,null,t):null,r.a.createElement(s.a,{primary:a})))},m=Object(i.translate)("Menu")((function(e){var t=e.t;return r.a.createElement("div",null,r.a.createElement(p,{to:"#about",primary:t("About"),icon:r.a.createElement(u.a,{style:{fontSize:"1.5rem"},icon:d.e})}))})),h=function(e){return r.a.createElement("div",null)}},96:function(e,t,a){"use strict";var n=a(16),r={Close:"Tanca",About:"Quant a...",Help:"Ajuda",Yes:"Si",No:"No",or:"o"},o={locale:"fr",App:Object(n.a)({},r,{"Covid Data Refactored":"Covid Data Refactored"}),ErrorCatcher:Object(n.a)({},r,{"Something went wrong :(":"Alguna cosa ha anat malament :(","Try reloading the app to recover from it":"Intenta recarregar l'aplicaci\xf3 per a continuar"}),Menu:Object(n.a)({},r,{Menu:"Men\xfa","Update!":"Actualitza!","New update available!":"Nova versi\xf3 disponible!"}),ModalRouter:Object(n.a)({},r),About:Object(n.a)({},r,{"This applications displays public information extracted from the official web":"Aquesta aplicaci\xf3 mostra informaci\xf3 p\xfablica extreta de la p\xe1gina web oficial","The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.":"La finalitat d'aquesta aplicaci\xf3 \xe9s mostrar les dades de formes diferents a l'original, millorant-ne el rendiment i afegint-ne m\xe9s valor.","Want more information?":"Vols m\xe9s informaci\xf3?","The source code is publicly available.":"El codi font \xe9s p\xfablicament accessible.","There, you can find more information about how it has been done, licence and credits.":"All\xe0 trobar\xe0s m\xe9s informaci\xf3 sobre com s'ha fet, llic\xe8ncies i cr\xe8dits.","Found a bug? Have a petition? Want to help somehow?":"Has trobat un error? Tens una petici\xf3? Vols ajudar d'alguna forma?","Create an issue at GitHub.":"Crea una incid\xe8ncia a GitHub",Licenses:"Llic\xe8ncies","The application, scripts and documentation in":"L'aplicaci\xf3, scripts i documentaci\xf3 a","this project":"aquest projecte","are released under the":"han sigut alliberats sota la","The scripts and documentation published in":"Els scripts i documentaci\xf3 publicats a","are also released under the":"tamb\xe9 estan alliberades sota la","The data scrapped and published in":"Les dades aconseguides de la web oficial i publicades a","is licensed by their owner, the":"ha estat llicenciada pel seu propietari, la",", under their own conditions (":", sota les seves pr\xf2pies condicions (",", until now).":", fins ara).","See more at the":"Pots trobar m\xe9s informaci\xf3 a la","dataset API documentation":"documentaci\xf3 de l'API del dataset"}),Help:Object(n.a)({},r)};t.a={en:o,"en-en":o,"en-us":o,"en-au":o,ca:o,"ca-es":o,es:o,"es-es":o}}},[[158,1,2]]]);
//# sourceMappingURL=main.a6149b86.chunk.js.map